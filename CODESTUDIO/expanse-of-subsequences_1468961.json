{
    "status": 200,
    "message": "Question Data fetched successfully",
    "data": {
        "question": {
            "questionFrontendId": 12645,
            "title": "Expanse of Subsequences",
            "titleSlug": "expanse-of-subsequences_1468961",
            "content": "<h4 id=\"you-are-given-an-array-list-arr-consisting-of-n-positive-integers\">You are given an array/list \u2018ARR\u2019 consisting of \u2018N\u2019 positive integers.</h4>\n\n<h4 id=\"for-any-sequence-s-let-the-expanse-of-s-be-the-difference-between-the-maximum-and-the-minimum-element-of-s\">For any sequence \u2018S\u2019, let the expanse of \u2018S\u2019 be the difference between the maximum and the minimum element of \u2018S\u2019.</h4>\n\n<h4 id=\"your-task-is-to-return-the-sum-of-the-expanse-of-all-non-empty-subsequences-of-arr-return-this-sum-in-modulo-10-9-7\">Your task is to return the sum of the expanse of all non-empty subsequences of \u2018ARR\u2019. Return this sum in modulo 10^9 + 7.</h4>\n\n<h4 id=\"note\">Note :</h4>\n\n<pre><code>Expanse of a sequence of length 1 is always 0.\n</code></pre>\n\n<h4 id=\"input-format\">Input Format :</h4>\n\n<pre><code>The first line contains a single integer \u2018T\u2019 representing the number of test cases. The &#39;T&#39; test cases follow.\n\nThe first line of each test case will contain a single integer \u2018N\u2019, representing the size of \u2018ARR\u2019 \n\nThe second line of each test case will contain \u2018N\u2019 space-separated integers representing array/list \u2018ARR\u2019.\n</code></pre>\n\n<h4 id=\"output-format\">Output Format :</h4>\n\n<pre><code>For each test case, print a single integer that represents the sum of the expanse of all subsequences in modulo 10^9+7.\n\nOutput for every test case will be printed in a separate line.\n</code></pre>\n\n<h4 id=\"note\">Note :</h4>\n\n<pre><code>You don\u2019t need to print anything, It has already been taken care of. Just implement the given function.\n</code></pre>\n\n<h4 id=\"constraints\">Constraints :</h4>\n\n<pre><code>1 &lt;= T &lt;= 50\n2 &lt;= N &lt;= 10000\n1 &lt;= ARR[i] &lt;= 10^9\n\nWhere &#39;ARR[i]&#39; denotes the &#39;ith&#39; element of the array.\n\nTime limit: 1 sec\n</code></pre>\n<h4 id=\"sample-input-1\">Sample Input 1 :</h4>\n\n<pre><code>2\n3\n2 1 3\n1\n1\n</code></pre>\n\n<h4 id=\"sample-output-1\">Sample Output 1 :</h4>\n\n<pre><code>6\n0\n</code></pre>\n\n<h5 id=\"explanation-of-sample-input-1\">Explanation of sample input 1 :</h5>\n\n<pre><code>In the first test case, subsequences are [1], [2], [3], [2, 1], [2, 3], [1, 3], and [2, 1, 3].\nThe corresponding expanse are 0, 0, 0, 1, 1, 2, 2.\nThe sum of these expanse is 0 + 0 + 0 + 1 + 1 + 2 + 2 = 6.\n\nIn the second test case, there is only one subsequence [1], and its expanse is 0. \n</code></pre>\n\n<h4 id=\"sample-input-2\">Sample Input 2 :</h4>\n\n<pre><code>2\n5\n2 2 2 2 2\n2\n1 2\n</code></pre>\n\n<h4 id=\"sample-output-2\">Sample Output 2 :</h4>\n\n<pre><code>0\n1\n</code></pre>\n",
            "isPaidOnly": false,
            "difficulty": "Hard",
            "likes": -3,
            "dislikes": "NA",
            "rephrased": {
                "body": "Given an array of positive integers, calculate the sum of the expanse of all its non-empty subsequences. The expanse of a subsequence is defined as the difference between its maximum and minimum elements. Return the sum modulo 10^9 + 7.  A subsequence of length 1 has an expanse of 0.",
                "constraints": [
                    "1 <= T <= 50",
                    "2 <= N <= 10000",
                    "1 <= ARR[i] <= 10^9",
                    "Time limit: 1 sec"
                ],
                "testcases": [
                    {
                        "input": "3\n3\n2 1 3\n1\n1",
                        "output": "6\n0",
                        "explanation": "Test Case 1: The array is [2, 1, 3]. The subsequences are [1], [2], [3], [2, 1], [2, 3], [1, 3], and [2, 1, 3]. The corresponding expanses are 0, 0, 0, 1, 1, 2, and 2. The sum is 0 + 0 + 0 + 1 + 1 + 2 + 2 = 6.\n\nTest Case 2: The array is [1]. The only subsequence is [1], and its expanse is 0."
                    },
                    {
                        "input": "2\n5\n2 2 2 2 2\n2\n1 2",
                        "output": "0\n1",
                        "explanation": "Test Case 1:  The array is [2, 2, 2, 2, 2]. Every subsequence will have the same minimum and maximum value which is 2, so the expanse for each subsequence will be 0, resulting in a total sum of 0.\n\nTest Case 2: The array is [1, 2]. The subsequences are [1], [2], and [1, 2].  Their expanses are 0, 0, and 1 respectively.  The sum is 0 + 0 + 1 = 1."
                    }
                ]
            }
        },
        "similar": [],
        "hints": [
            "<p>Find expanse for each non-empty subsequence of \u2018ARR\u2019.</p>",
            "<p>Can you find the solution after sorting the given array.</p>",
            "<p>Can you optimize the previous approach using Mathematics?</p>"
        ],
        "relatedTopics": [
            {
                "name": "Arrays",
                "slug": "arrays"
            },
            {
                "name": "Number Theory",
                "slug": "number-theory"
            },
            {
                "name": "Sorting",
                "slug": "sorting"
            }
        ],
        "solutions": [],
        "platform": "CODESTUDIO"
    }
}