{
    "status": 200,
    "message": "Question Data fetched successfully",
    "data": {
        "question": {
            "questionFrontendId": 13790,
            "title": "Hat Combination",
            "titleSlug": "hat-combination_1799467",
            "content": "<h4 id=\"it-is-the-birthday-of-the-ultimate-ninja-ankush-and-his-fellow-seito-s-have-decided-to-organize-a-party-in-the-dojo-the-ultimate-ninja-ankush-loves-a-party-and-brings-hats-for-everyone-but-the-students-are-very-choosy-and-prefer-only-some-hats-since-ankush-is-the-ultimate-ninja-he-loves-a-brain-teaser-he-wants-to-know-the-total-number-of-combinations-such-that-all-students-wear-different-hats\">It is the birthday of the Ultimate Ninja Ankush, and his fellow Seito\u2019s have decided to organize a party in the dojo. The Ultimate Ninja Ankush loves a party and brings hats for everyone, but the students are very choosy and prefer only some hats. Since Ankush is the Ultimate ninja, he loves a brain teaser. He wants to know the total Number of Combinations such that all students wear different hats.</h4>\n\n<h4 id=\"there-are-n-students-and-ultimate-ninja-ankush-has-exactly-40-varieties-of-hats-numbered-from-each-of-the-n-students-have-m-preference-of-hats-out-of-the-40-and-we-want-to-know-the-total-number-of-combination-such-that-all-students-wear-different-hats\">There are \u2018N\u2019 students, and Ultimate Ninja Ankush has exactly 40 varieties of hats numbered from, each of the \u2018N\u2019 students have \u2018M\u2019 preference of hats out of the 40, and we want to know the total number of Combination such that all students wear different hats.</h4>\n\n<h4 id=\"more-formally-there-are-n-people-and-40-types-of-hats-labeled-from-1-to-40\">More Formally, There are n people and 40 types of hats labeled from 1 to 40.</h4>\n\n<h4 id=\"given-a-list-of-integers-hats-where-hats-i-is-a-list-of-all-hats-preferred-by-the-i-th-person-return-the-number-of-ways-that-the-n-students-wear-different-hats-to-each-other-since-the-answer-may-be-too-large-return-it-modulo-10-9-7\">Given a list of integers hats, where \u2018hats[i]\u2019 is a list of all hats preferred by the i-th person. Return the number of ways that the \u2018N\u2019 students wear different hats to each other. Since the answer may be too large, return it modulo 10 ^ 9 + 7.</h4>\n\n<h4 id=\"for-example\">For example:</h4>\n\n<pre><code>Given:\n\u2018N\u2019 = 2, \u2018M\u2019 = 3.\n\u2018Hats\u2019 = [[1, 2, 3],\n          [3, 4, 5]]\n\nThe answer will be 8, the combinations can be (1,3), (1,4), (1,5), (2,3), (2,4), (2,5), (3,4), (3,5).\n</code></pre>\n\n<h5 id=\"input-format\">Input format:</h5>\n\n<pre><code>The first line of input contains an integer \u2018T\u2019 denoting the number of test cases.\n\nThe first line of each test case contains two space-separated integers, \u2018N,\u2019 where \u2018N\u2019 is the number of rows in \u2018HATS\u2019 and \u2018M\u2019 where \u2018M\u2019 is the number of columns in \u2018HATS\u2019.\n\nThe next \u2018N\u2019 line of each test case contains \u2018M\u2019 space-separated integers, which tell the preference of hats of the \u2018i\u2019 the student.\n</code></pre>\n\n<h5 id=\"output-format\">Output Format :</h5>\n\n<pre><code>For each test case, return the number of ways that the \u2018N\u2019 students wear different hats to each other. Since the answer may be too large, return it modulo 10 ^ 9 + 7.\n</code></pre>\n\n<h5 id=\"note\">Note:</h5>\n\n<pre><code>You are not required to print the expected output; it has already been taken care of. Just implement the function.\n</code></pre>\n\n<h5 id=\"constraints\">Constraints:</h5>\n\n<pre><code>1 &lt;= \u2018T\u2019 &lt;= 10\n1 &lt;= \u2018N\u2019 &lt;= 10\n1 &lt;= \u2018M\u2019 &lt;= 40\n1 &lt;= \u2018HATS[i][j]\u2019 &lt;= 40\n\nTime Limit: 1 sec.\n</code></pre>\n<h4 id=\"sample-input-1\">Sample Input 1 :</h4>\n\n<pre><code>2\n2 3\n1 2 3\n3 4 5\n3 3\n1 2 3\n1 2 4\n1 2 5\n</code></pre>\n\n<h4 id=\"sample-output-1\">Sample Output 1 :</h4>\n\n<pre><code>8\n13  \n</code></pre>\n\n<h4 id=\"explanation-of-the-sample-input-1\">Explanation of the Sample Input 1:</h4>\n\n<pre><code>In the first test case, The answer will be 8. The combinations can be (1,3), (1,4), (1,5), (2,3), (2,4), (2,5), (3,4), (3,5).\n\nIn the second test case, The answer will be 13, the combinations can be (1,2,5),(1,4,5), (1,4,2), (2,1,5), (2,4,5),(2,4,1), (3,1,2), (3,1,5), (3,2,5), (3,2,1),(3,4,1), (3,4,2), (3,4,5).\n</code></pre>\n\n<h4 id=\"sample-input-2\">Sample Input 2 :</h4>\n\n<pre><code>2\n4 4\n1 2 3 4\n1 2 3 4 \n1 2 3 4\n1 2 3 4\n3 2\n1 2\n3 4\n5 6\n3 3\n</code></pre>\n\n<h4 id=\"sample-output-2\">Sample Output 2 :</h4>\n\n<pre><code>24\n8\n</code></pre>\n",
            "isPaidOnly": false,
            "difficulty": "Hard",
            "likes": 8,
            "dislikes": "NA",
            "rephrased": {
                "body": "There are 'N' students attending a party, and Ankush provides 40 different types of hats (numbered 1 to 40). Each student has a preference list of hats they are willing to wear. The goal is to determine the number of ways to assign hats to students such that each student wears a different hat and they only wear hats from their preference list. Since the answer can be large, return the result modulo 10^9 + 7.",
                "constraints": [
                    "1 <= \u2018T\u2019 <= 10",
                    "1 <= \u2018N\u2019 <= 10",
                    "1 <= \u2018M\u2019 <= 40",
                    "1 <= \u2018HATS[i][j]\u2019 <= 40"
                ],
                "testcases": [
                    {
                        "input": "hats = [[1, 2, 3],[3, 4, 5]]",
                        "output": "8",
                        "explanation": "For N = 2, M = 3 and hats = [[1, 2, 3], [3, 4, 5]], the combinations are (1,3), (1,4), (1,5), (2,3), (2,4), (2,5), (3,4), (3,5).  There are 8 possible combinations."
                    },
                    {
                        "input": "hats = [[1, 2, 3],[1, 2, 4],[1, 2, 5]]",
                        "output": "13",
                        "explanation": "For N = 3, and hats = [[1, 2, 3],[1, 2, 4],[1, 2, 5]], the combinations can be (1,2,5),(1,4,5), (1,4,2), (2,1,5), (2,4,5),(2,4,1), (3,1,2), (3,1,5), (3,2,5), (3,2,1),(3,4,1), (3,4,2), (3,4,5). There are 13 possible combinations."
                    },
                    {
                        "input": "hats = [[1, 2, 3, 4],[1, 2, 3, 4],[1, 2, 3, 4],[1, 2, 3, 4]]",
                        "output": "24",
                        "explanation": "For N = 4, and hats = [[1, 2, 3, 4],[1, 2, 3, 4],[1, 2, 3, 4],[1, 2, 3, 4]]. Since everyone can wear hats 1, 2, 3 or 4. The number of ways is 4 * 3 * 2 * 1 = 24."
                    },
                    {
                        "input": "hats = [[1, 2],[3, 4],[5, 6]]",
                        "output": "0",
                        "explanation": "For N = 3, and hats = [[1, 2],[3, 4],[5, 6]]. No hats are shared among students, so there is no way for the students to wear different hats."
                    }
                ]
            }
        },
        "similar": [],
        "hints": [
            "<p>Can we use bitmasks to denote the state of each row?</p>",
            "<p>&nbsp;Can we hash the recurring sub-problems? Will reverse mapping of the given information be helpful?</p><p><br>&nbsp;</p>"
        ],
        "relatedTopics": [
            {
                "name": "Matrices (2D Arrays)",
                "slug": "matrices-(2d-arrays)"
            },
            {
                "name": "Bit Manipulation",
                "slug": "bit-manipulation"
            },
            {
                "name": "Dynamic Programming",
                "slug": "dynamic-programming"
            }
        ],
        "solutions": {},
        "platform": "CODESTUDIO"
    }
}